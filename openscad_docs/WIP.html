<html><head><title>WIP</title><link href="./styles/style.css" rel="stylesheet"/></head><body class="mw-body" style="height:auto"><h1 class="firstHeading" id="firstHeading">WIP</h1><div id="bodyContent"><div aria-labelledby="mw-toc-heading" class="toc" id="toc" role="navigation"><div class="toctitle" dir="ltr" lang="en"><h2 id="mw-toc-heading">Contents</h2></div>
<ul style="list-style-image:none">
<li><a href="#Work_in_Progress"><span class="tocnumber">1</span> Work in Progress</a>
<ul style="list-style-image:none">
<li><a href="#Overview"><span class="tocnumber">1.1</span> Overview</a></li>
<li><a href="#Inputdriver"><span class="tocnumber">1.2</span> Inputdriver</a>
<ul style="list-style-image:none">
<li><a href="#Introduction"><span class="tocnumber">1.2.1</span> Introduction</a></li>
<li><a href="#How_to_try_it_out"><span class="tocnumber">1.2.2</span> How to try it out</a></li>
<li><a href="#Joystick_and_gamepads"><span class="tocnumber">1.2.3</span> Joystick and gamepads</a>
<ul style="list-style-image:none">
<li><a href="#linux"><span class="tocnumber">1.2.3.1</span> linux</a></li>
<li><a href="#Windows"><span class="tocnumber">1.2.3.2</span> Windows</a></li>
</ul>
</li>
<li><a href="#3D-Mouse"><span class="tocnumber">1.2.4</span> 3D-Mouse</a>
<ul style="list-style-image:none">
<li><a href="#Linux_2"><span class="tocnumber">1.2.4.1</span> Linux</a>
<ul style="list-style-image:none">
<li><a href="#Spacenav"><span class="tocnumber">1.2.4.1.1</span> Spacenav</a></li>
<li><a href="#HIDAPI"><span class="tocnumber">1.2.4.1.2</span> HIDAPI</a></li>
</ul>
</li>
<li><a href="#Windows_2"><span class="tocnumber">1.2.4.2</span> Windows</a></li>
<li><a href="#Mac_OS"><span class="tocnumber">1.2.4.3</span> Mac OS</a></li>
</ul>
</li>
<li><a href="#DBus"><span class="tocnumber">1.2.5</span> DBus</a>
<ul style="list-style-image:none">
<li><a href="#Debug_and_testing"><span class="tocnumber">1.2.5.1</span> Debug and testing</a></li>
<li><a href="#Example"><span class="tocnumber">1.2.5.2</span> Example</a></li>
<li><a href="#Camera_System"><span class="tocnumber">1.2.5.3</span> Camera System</a></li>
<li><a href="#Actions"><span class="tocnumber">1.2.5.4</span> Actions</a></li>
</ul>
</li>
<li><a href="#FAQ"><span class="tocnumber">1.2.6</span> FAQ</a>
<ul style="list-style-image:none">
<li><a href="#Which_button_is_which?"><span class="tocnumber">1.2.6.1</span> Which button is which?</a></li>
<li><a href="#View_is_drifting"><span class="tocnumber">1.2.6.2</span> View is drifting</a></li>
<li><a href="#Where_are_my_settings_stored?"><span class="tocnumber">1.2.6.3</span> Where are my settings stored?</a></li>
<li><a href="#Y+Viewport-rel-translation_(VRT)_Channel_is_not_responding_to_input"><span class="tocnumber">1.2.6.4</span> Y+Viewport-rel-translation (VRT) Channel is not responding to input</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#Persistent_Cache"><span class="tocnumber">1.3</span> Persistent Cache</a>
<ul style="list-style-image:none">
<li><a href="#Introduction_2"><span class="tocnumber">1.3.1</span> Introduction</a></li>
<li><a href="#How_to_use_redis_for_cache?"><span class="tocnumber">1.3.2</span> How to use redis for cache?</a></li>
<li><a href="#How_to_use_local_cache?"><span class="tocnumber">1.3.3</span> How to use local cache?</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>

<h1>Work in Progress</h1>
<h2>Overview</h2>
<p>This section contains documentation about ongoing work which is available as experimental features in snapshot versions of OpenSCAD or not yet integrated at all and pending in a <a class="external text" href="https://github.com/openscad/openscad/branches" rel="nofollow">branch</a> or <a class="external text" href="https://github.com/openscad/openscad/pulls" rel="nofollow">pull-request</a> at the <a class="external text" href="https://github.com/openscad/openscad/" rel="nofollow">OpenSCAD github repository</a>.
</p><p>Information listed here is mainly intended to help people using and testing the experimental features to provide feedback. It's likely that there are changes to the API and behavior of the features before those are officially released.
</p><p><span style="color: red;"><b>NOTE: If the feature mentioned here is already included in the snapshot builds, it's normally also required to enable the feature in the Preferences dialog!</b></span>
</p>
<h2>Inputdriver</h2>
<h3>Introduction</h3>
<p><span style="font-weight: bold; font-style: normal;">[<span style="color: #A00000;">Note:</span> <span style="font-weight: normal; font-style: italic;">Requires version <span style="font-weight: bold;">2019.05</span></span>]</span>
</p><p><br/>
The inputdriver allows a user the use of things like a gamepad or a 3D-Mouse in OpenSCAD.
</p><p>Currently, the following drivers are in development:
</p>
<ul style="list-style-image:none"><li><b>HIDAPI</b> - Used on MacOS and Windows - needs the USB IDs / it works on Linux too, but needs additional privileges, so it's not ideal for the user</li>
<li><b>Joystick driver</b> - uses the Linux joystick device (currently fixed /dev/input/js0)</li>
<li><b>SpaceNav driver</b> - using the spacenavd daemon</li>
<li><b>DBus driver</b> - Linux only / not for actual devices but for remote control</li>
<li><b>QGamepad</b> - used for Cross-platform joystick support - This seems to require some additional configuration on Qt level currently, so it needs some more work to make it easy to use</li></ul>
<p>The default axes mapping is for 3D-mices.
</p>
<h3>How to try it out</h3>
<p>The inputdriver is currently part of the current development snapshots and nightly builds.
</p><p>Therefor, they can be found here: <a class="external free" href="http://www.openscad.org/downloads.html#snapshots" rel="nofollow">http://www.openscad.org/downloads.html#snapshots</a>
</p>
<h3>Joystick and gamepads</h3>
<h4>linux</h4>
<div class="thumb tright"><div class="thumbinner" style="width:222px;"><a class="image" href="./imgs/220px-Logitech-gamepad.JPG"><img alt="" class="thumbimage" data-file-height="1704" data-file-width="2272" decoding="async" height="165" src="./imgs/220px-Logitech-gamepad.JPG" width="220"/></a>  <div class="thumbcaption">Almost any controller that your Linux computer recognizes should work</div></div></div>
<p>The JoystickInputDriver is using the device <b>/dev/input/js0</b>.
</p><p>Under Ubuntu Linux, you need the packet <b>joystick</b> for joystick support.
</p><p>QGamepad can also be used, but is not recommended as the QGamepad Driver makes assumptions about the Gamepad that might not be true.
</p>
<h4>Windows</h4>
<div class="thumb tright"><div class="thumbinner" style="width:222px;"><a class="image" href="./imgs/220px-360_controller.svg.png"><img alt="" class="thumbimage" data-file-height="925" data-file-width="2000" decoding="async" height="102" src="./imgs/220px-360_controller.svg.png" width="220"/></a>  <div class="thumbcaption">QGamepad works well with XBox 360 controllers</div></div></div>
<p>Under Windows, you can use QGamepad as a driver.
QGamepad works best with an XBox 360 controller.
</p>
<h3>3D-Mouse</h3>
<ul class="gallery mw-gallery-traditional" style="list-style-image:none">
		<li class="gallerybox" style="width: 155px"><div style="width: 155px">
			<div class="thumb" style="width: 150px;"><div style="margin:35px auto;"><a class="image" href="./imgs/120px-3Dconnexion_Space_Navigator_at_Institute_of_Geography_of_Masaryk_University_in_Brno_2C_Brno-City_District.jpg"><img alt="3Dconnexion Space Navigator at Institute of Geography of Masaryk University in Brno, Brno-City District.jpg" data-file-height="2592" data-file-width="3888" decoding="async" height="80" src="./imgs/120px-3Dconnexion_Space_Navigator_at_Institute_of_Geography_of_Masaryk_University_in_Brno_2C_Brno-City_District.jpg" width="120"/></a></div></div>
			<div class="gallerytext">
			</div>
		</div></li>
</ul>
<h4>Linux</h4>
<p>On Linux, the easiest way with the Space Mouse Wireless is interestingly to go though the Joystick driver that is normally enabled on most systems.
</p>
<h5>Spacenav</h5>
<p><b>Spacenav</b> is also supported. <a class="external free" href="http://spacenav.sourceforge.net/" rel="nofollow">http://spacenav.sourceforge.net/</a> <a class="external free" href="https://wiki.archlinux.org/index.php/3D_Mouse#Open_Source_Drivers" rel="nofollow">https://wiki.archlinux.org/index.php/3D_Mouse#Open_Source_Drivers</a>
</p>
<pre>sudo apt-get spacenavd
</pre>
<p>On debian:
</p>
<pre>sudo apt install libspnav-dev 
</pre>
<p>(requires restart)
</p>
<h5>HIDAPI</h5>
<p>For using the hidapi, you can run openscad with root privileges. However, this is not recommend, but maybe helpful for temporary trouble shooting.
</p><p>Much better is to figure out which vendor id and product id your device has and add a udev rule. To figure out which vendor and product id your product has, you can use <b>lusb</b>.
</p><p>How the relevant line of lsusb may look like:
</p>
<pre>Bus 002 Device 006: ID 046d:c627 Logitech, Inc. 3Dconnexion Space Explorer 3D Mouse</pre>
<p>Some hints:
</p>
<pre>  * <a class="external free" href="https://stackoverflow.com/questions/3738173/why-does-pyusb-libusb-require-root-sudo-permissions-on-linux/32022908#32022908" rel="nofollow">https://stackoverflow.com/questions/3738173/why-does-pyusb-libusb-require-root-sudo-permissions-on-linux/32022908#32022908</a>
</pre>
<h4>Windows</h4>
<p>OpenSCAD interacts directly with the 3D Mouse using the HIDAPI.
</p><p>Therefore, the driver from the device manufacturer is not required.
If the driver of the device manufacturer is installed, the driver has to be stopped, so that OpenSCAD can claim the device.
</p><p>There are different ways to stop the driver. In your start menu you should have a folder 3Dconnexion and in there "Stop Driver".
</p><p>You can also try
</p>
<pre>"C:\Program Files\3Dconnexion\3DxWare\3DxWinCore64\3DxService.exe" -shutdown
</pre>
<h4>Mac OS</h4>
<p>As with other platforms, you have to disable the native 3DConnexion drivers completely, as OpenSCAD does not use them.
</p><p>To enable the built-in driver for the SpaceMouse, go to Preferences → Axes, turn on the HIDAPI setting, and restart OpenSCAD.
</p><p>The following devices have been tested and are known to work with OpenSCAD on MacOS Mohave:
</p>
<ul style="list-style-image:none"><li>SpaceMouse Compact (USB)</li>
<li>SpaceMouse Wireless</li></ul>
<h3>DBus</h3>
<p>The <a class="extiw" href="https://en.wikipedia.org/wiki/D-Bus" title="wikipedia:D-Bus">D-Bus</a> driver can be used for remote controlling OpenSCAD.
This is mainly intended for programmers. It can for example be used to write a custom input driver.
</p>
<h4>Debug and testing</h4>
<p>For debugging and testing, D-Feet can be used.
OpenSCAD can be found on the Session Bus under org.openscad.OpenSCAD.
</p><p>qdbus is NOT recommended, as it has issues with some of the more complex data structures.
</p>
<h4>Example</h4>
<p>An example for QT/C++ can be found under <a class="external text" href="https://github.com/MichaelPFrey/openscad-dbus-reference" rel="nofollow">this page</a>.
</p>
<h4>Camera System</h4>
<p>Note that OpenSCAD's camera behavior and system does not operate in a standard way.
Via DBus, you are directly interacting with OpenSCAD's camera.
Note that the camera system and thus this is interface could be refactored at some point.
</p>
<h4>Actions</h4>
<p>Please note that the actions exposed Via dbus are mostly the ones from the Menu Bar of OpenSCAD.
Keep in mind, that the menu bar might change at some point and that compatibility with the dbus driver is not of concern.
</p>
<h3>FAQ</h3>
<h4>Which button is which?</h4>
<p>Open the preferences, then go to the button tab then press the button you want to assign. The text next to the relevant ComboBox appears in red, bold text.
</p>
<h4>View is drifting</h4>
<p>If your view is drifting, please re-calibrate the neutral position and deadzone of your input device.
This can be done within OpenSCAD or with the tools of the operating system.
</p>
<h4>Where are my settings stored?</h4>
<p>See <a class="external text" href="https://github.com/openscad/openscad/wiki/Path-locations" rel="nofollow">this page</a>.
</p>
<h4>Y+Viewport-rel-translation (VRT) Channel is not responding to input</h4>
<p>You are in orthogonal view. Please change it to perspective to see what it does. Or look in the bottom left corner, where translate = changes. This is not a bug, this is a very specific feature. When you map zoom to one axis and Y+Viewport-rel-translation to an other while in perspective view, you should get the vertigo effect.
</p><p>Most users use zoom as it works in both orthogonal and perspective. Before you wonder why you can map two axis to zoom: Game controllers have two shoulder buttons.
</p><p>Yes, this has little to no real world use, but the inputdriver is about giving as much control to the user as possible.
</p>
<h2>Persistent Cache</h2>
<h3>Introduction</h3>
<p>The cache data of rendered geometries in OpenSCAD is limited to the life-span of the application. This feature provides a solution for the persistent storage of rendered geometries. All the rendered geometries are serialized using boost serialization library and pushed into local filesystem cache or into the Redis database according user preferences.
</p>
<h3>How to use redis for cache?</h3>
<ul style="list-style-image:none"><li>Download and install Redis database</li>
<li>Download Hiredis release version 0.14.1 or above from, build and install it.</li>
<li>The source code of this feature is not merged yet. It is available in this PR <a class="external free" href="https://github.com/openscad/openscad/pull/3316" rel="nofollow">https://github.com/openscad/openscad/pull/3316</a>. Clone and build this PR.</li>
<li>Start the Redis-server and make a note of IP address, port number, and password if any from it's config file.</li>
<li>GUI MODE: Open the preferences dialog and move to the advance tab. enable the checkbox persistent cache using Redis. fill in the config details and close the preferences dialog.</li></ul>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:502px;"><a class="image" href="./imgs/500px-Cache1.png"><img alt="" class="thumbimage" data-file-height="529" data-file-width="637" decoding="async" height="415" src="./imgs/500px-Cache1.png" width="500"/></a>  <div class="thumbcaption">Persistent cache for openscad</div></div></div></div>
<ul style="list-style-image:none"><li>CLI MODE: a new option <b>cache</b> is added to OpenSCAD. The usage of this option in the case of Redis is shown below.</li></ul>
<pre>          example: ""--cache=redis,127.0.0.1,6379,foobared""
</pre>
<ul style="list-style-image:none"><li>That's it, now OpenSCAD is ready to use Redis for caching.</li></ul>
<h3>How to use local cache?</h3>
<ul style="list-style-image:none"><li>GUI MODE: Open the preferences dialog and move to the advance tab. enable the Local cache checkbox.</li>
<li>CLI MODE: This is another variant in <b>cache</b> option. The usage of this option is shown below.</li></ul>
<pre>          example: ""--cache=file""
</pre>
<ul style="list-style-image:none"><li>That's it, now OpenSCAD is ready to use local filesystem for caching.</li></ul>




</div><footer class="mw-body" style="font-size:13px;color:darkgray;text-align:center;margin-bottom:-1px">
	From the WikiBooks article <a href="https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/WIP#Overview" style="color:black">WIP</a> 
	(provided under <a href="https://creativecommons.org/licenses/by-sa/3.0/" style="color:black">
	CC-BY-SA-3.0</a>)</footer></body></html>