<html><head><title>Customizer</title><link href="./styles/style.css" rel="stylesheet"/></head><body class="mw-body" style="height:auto"><h1 class="firstHeading" id="firstHeading">Customizer</h1><div id="bodyContent"><div aria-labelledby="mw-toc-heading" class="toc" id="toc" role="navigation"><div class="toctitle" dir="ltr" lang="en"><h2 id="mw-toc-heading">Contents</h2></div>
<ul style="list-style-image:none">
<li><a href="#Customizer"><span class="tocnumber">1</span> Customizer</a>
<ul style="list-style-image:none">
<li><a href="#Activation_of_Customizer_panel"><span class="tocnumber">1.1</span> Activation of Customizer panel</a></li>
<li><a href="#supported_variables"><span class="tocnumber">1.2</span> supported variables</a></li>
<li><a href="#Syntax_support_for_generation_of_the_customization_form"><span class="tocnumber">1.3</span> Syntax support for generation of the customization form</a>
<ul style="list-style-image:none">
<li><a href="#Drop_down_box"><span class="tocnumber">1.3.1</span> Drop down box</a></li>
<li><a href="#Slider"><span class="tocnumber">1.3.2</span> Slider</a></li>
<li><a href="#Checkbox"><span class="tocnumber">1.3.3</span> Checkbox</a></li>
<li><a href="#Spinbox"><span class="tocnumber">1.3.4</span> Spinbox</a></li>
<li><a href="#Textbox"><span class="tocnumber">1.3.5</span> Textbox</a></li>
<li><a href="#Special_vector"><span class="tocnumber">1.3.6</span> Special vector</a></li>
<li><a href="#Unavailable_customizations"><span class="tocnumber">1.3.7</span> Unavailable customizations</a></li>
</ul>
</li>
<li><a href="#Creating_Tabs"><span class="tocnumber">1.4</span> Creating Tabs</a>
<ul style="list-style-image:none">
<li><a href="#[Global]"><span class="tocnumber">1.4.1</span> [Global]</a></li>
<li><a href="#[Hidden]"><span class="tocnumber">1.4.2</span> [Hidden]</a></li>
<li><a href="#parameters"><span class="tocnumber">1.4.3</span> parameters</a></li>
</ul>
</li>
<li><a href="#Example_showcasing_most_features"><span class="tocnumber">1.5</span> Example showcasing most features</a></li>
<li><a href="#Saving_Parameters_value_in_JSON_file"><span class="tocnumber">1.6</span> Saving Parameters value in JSON file</a>
<ul style="list-style-image:none">
<li><a href="#Cmdline"><span class="tocnumber">1.6.1</span> Cmdline</a></li>
<li><a href="#GUI"><span class="tocnumber">1.6.2</span> GUI</a></li>
<li><a href="#manually_create_datasets"><span class="tocnumber">1.6.3</span> manually create datasets</a></li>
<li><a href="#hidden_parameters"><span class="tocnumber">1.6.4</span> hidden parameters</a></li>
</ul>
</li>
<li><a href="#Tips_and_Tricks"><span class="tocnumber">1.7</span> Tips and Tricks</a>
<ul style="list-style-image:none">
<li><a href="#Set_Range_and_Stepping"><span class="tocnumber">1.7.1</span> Set Range and Stepping</a></li>
<li><a href="#Scroll_Wheel"><span class="tocnumber">1.7.2</span> Scroll Wheel</a></li>
</ul>
</li>
<li><a href="#Examples"><span class="tocnumber">1.8</span> Examples</a>
<ul style="list-style-image:none">
<li><a href="#color_="><span class="tocnumber">1.8.1</span> color =</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>

<h2>Customizer</h2>
<p><span style="font-weight: bold; font-style: normal;">[<span style="color: #A00000;">Note:</span> <span style="font-weight: normal; font-style: italic;">Requires version <span style="font-weight: bold;">2019.05</span></span>]</span>
</p><p>The Customizer feature provides a graphic user interface for editing model parameters. With this feature one does not need to edit the code to change the values of the parameters / variables. Programmers can create templates for a given model, and customize these further to adapt to different needs / users. Sets of parameter <u>values</u> can also be saved, which effectively saves a variant of a particular model.
</p>
<h3>Activation of Customizer panel</h3>
<p>In the View menu, the option called [Hide customizer] must be unselected to display the customizer.
</p>
<h3>supported variables</h3>
<ul style="list-style-image:none"><li>Only variables in the main file are evaluated. Files from includes and use are <b>not</b> considered.</li></ul>
<ul style="list-style-image:none"><li>Only the variables that are on the top of the main file are evaluated, that is, they must be declared <b>before</b> the first line with a module declaration in order to appear in the customizer (read the next bullet point).</li></ul>
<ul style="list-style-image:none"><li>If you want to hide some variables from the customizer, they must be put on or after the first line that declares a module with a compound body. For example, this will stop the customizer</li></ul>
<pre>    module __Customizer_Limit__ () {}  // This actually works
    shown_by_customizer = false;
</pre>
<p>     but this will not
</p>
<pre>    module does_not_stop_customizer () echo("Fails in 2019.05");
    shown_by_customizer = true;        // !!
</pre>
<p>Only literals are available as parameters. Examples for literals are:
</p>
<pre>a = "Text";
b = 123;
c = 456.789;
d = [1,2,3,4];
</pre>
<p>Expression (even trivial examples) like
</p>
<pre>e = str("String"," ","concat");
f = 12 + 0.5;
</pre>
<p>are not supported as parameters.
</p>
<h3>Syntax support for generation of the customization form</h3>
<pre>// variable description
variable name = defaultValue; // possible values
</pre>
<p>Following is the syntax for how to define different types of widgets in the form:
</p>
<h4>Drop down box</h4>
<div class="thumb tright"><div class="thumbinner" style="width:222px;"><a class="image" href="./imgs/220px-OpenSCAD-2017-11-05-experimental-build-configurator-1.png"><img alt="" class="thumbimage" data-file-height="279" data-file-width="368" decoding="async" height="167" src="./imgs/220px-OpenSCAD-2017-11-05-experimental-build-configurator-1.png" width="220"/></a>  <div class="thumbcaption">experimental-build customizer example 1</div></div></div><pre>// combo box for number
Numbers=2; // [0, 1, 2, 3]

// combo box for string
Strings="foo"; // [foo, bar, baz]

//labeled combo box for numbers
Labeled_values=10; // [10:S, 20:M, 30:L]

//labeled combo box for string
Labeled_value="S"; // [S:Small, M:Medium, L:Large]
</pre>
<h4>Slider</h4><p>
Only numbers are allowed in this one, specify any of the following:</p><div class="thumb tright"><div class="thumbinner" style="width:222px;"><a class="image" href="./imgs/220px-OpenSCAD-2017-11-05-experimental-build-costumizer-2.png"><img alt="" class="thumbimage" data-file-height="110" data-file-width="366" decoding="async" height="66" src="./imgs/220px-OpenSCAD-2017-11-05-experimental-build-costumizer-2.png" width="220"/></a>  <div class="thumbcaption">experimental-build customizer example 2</div></div></div><pre>// slider widget for number with max. value
sliderWithMax =34; // [50]

// slider widget for number in range
sliderWithRange =34; // [10:100]

//step slider for number
stepSlider=2; //[0:5:100]

// slider widget for number in range
sliderCentered =0; // [-10:0.1:10]
</pre>
<p>Note that this
</p>
<pre>// slider widget for number with max. value
sliderWithMax =34; // [50]
</pre>
<p>is mainly for compatibility with <a class="external text" href="http://www.thingiverse.com" rel="nofollow">Thingiverse</a>
</p>
<h4>Checkbox</h4>
<div class="thumb tright"><div class="thumbinner" style="width:222px;"><a class="image" href="./imgs/220px-OpenSCAD-2017-11-05-experimental-build-costumizer-3.png"><img alt="" class="thumbimage" data-file-height="65" data-file-width="366" decoding="async" height="39" src="./imgs/220px-OpenSCAD-2017-11-05-experimental-build-costumizer-3.png" width="220"/></a>  <div class="thumbcaption">experimental-build customizer example 3</div></div></div><pre>//description
Variable = true;
</pre>
<h4>Spinbox</h4>
<div class="thumb tright"><div class="thumbinner" style="width:222px;"><a class="image" href="./imgs/220px-OpenSCAD-2017-11-05-experimental-build-costumizer-4.png"><img alt="" class="thumbimage" data-file-height="65" data-file-width="365" decoding="async" height="39" src="./imgs/220px-OpenSCAD-2017-11-05-experimental-build-costumizer-4.png" width="220"/></a>  <div class="thumbcaption">experimental-build customizer example 4</div></div></div><pre>// spinbox with step size 1
Spinbox= 5;
</pre>
<h4>Textbox</h4>
<div class="thumb tright"><div class="thumbinner" style="width:222px;"><a class="image" href="./imgs/220px-OpenSCAD-2017-11-05-experimental-build-costumizer-5.png"><img alt="" class="thumbimage" data-file-height="168" data-file-width="365" decoding="async" height="101" src="./imgs/220px-OpenSCAD-2017-11-05-experimental-build-costumizer-5.png" width="220"/></a>  <div class="thumbcaption">experimental-build configurator example 5</div></div></div><pre>//Text box for vector with more than 4 elements
Vector6=[12,34,44,43,23,23];

// Text box for string
String="hello";

// Text box for string with length 8
String="length"; //8
</pre>
<h4>Special vector</h4>
<div class="thumb tright"><div class="thumbinner" style="width:222px;"><a class="image" href="./imgs/220px-OpenSCAD-2017-11-05-experimental-build-costumizer-6.png"><img alt="" class="thumbimage" data-file-height="111" data-file-width="365" decoding="async" height="67" src="./imgs/220px-OpenSCAD-2017-11-05-experimental-build-costumizer-6.png" width="220"/></a>  <div class="thumbcaption">experimental-build configurator example 6</div></div></div><pre>//Spin box box for vector with less than or equal to 4 elements
Vector2=[12,34];
Vector3=[12,34,45];
Vector4=[12,34,45,23];
</pre>
<p>You can also set a range for the vector:
</p>
<pre>VectorRange3=[12,34,46]; //[1:2:50]
VectorRange4=[12,34,45,23]; //[1:50]
</pre>
<h4>Unavailable customizations</h4>
<p>Some desirable customization constraints are <b>not supported</b> in 2019.05.
</p>
<ul style="list-style-image:none"><li>Directly editable (non-spinbox) numeric values:</li></ul>
<pre>SerialNumber = 0; //[::non-negative integer]
Offset = 10.0;    //[::float]
</pre>
<h3>Creating Tabs</h3>
<p>Parameters can be grouped into <b>tabs</b>. This feature allows related parameters to be associated into groups. The syntax is very similar the Thingiverse rules for tabs. To create a tab, use a multi-line block comment like this:
</p>
<pre>/* [Tab Name] */
</pre>
<p>Also possible, but not recommended:
</p>
<pre>/* [Tab] [Name] */
</pre>
<p>Three tabs names have a special functionality;
</p>
<h4>[Global]</h4>
<p>Parameters in the Global tab are always shown on every tab no matter which tab is selected. No tab is shown for Global parameters; they appear in all the tabs.
</p>
<h4>[Hidden]</h4>
<p>Parameters in the Hidden tab (with first letter uppercase) are never displayed. Not even the tab is shown. This prevents global variables that have not been parameterized for the Thingiverse or OpenSCAD Customizer from showing up in the Customizer interface or widget. Included for compatibility with Thingiverse. 
You can have multiples segments under the Hidden group.
see also <a href="#hidden_parameters">#hidden_parameters</a>
</p>
<h4>parameters</h4>
<p>Parameters that are not under any tab are displayed under a tab named “parameters”. In Thingiverse, these parameters are listed with no tab.
</p>
<h3>Example showcasing most features</h3>
<div class="thumb tright"><div class="thumbinner" style="width:222px;"><a class="image" href="./imgs/220px-OpenSCAD-2017-11-05-experimental-build-costumizer-tabs.png"><img alt="OpenSCAD-2017-11-05-experimental-build-costumizer-tabs.png" class="thumbimage" data-file-height="825" data-file-width="365" decoding="async" height="497" src="./imgs/220px-OpenSCAD-2017-11-05-experimental-build-costumizer-tabs.png" width="220"/></a>  <div class="thumbcaption"></div></div></div>
<pre>/* [Drop down box:] */
// combo box for number
Numbers=2; // [0, 1, 2, 3]

// combo box for string
Strings="foo"; // [foo, bar, baz]

//labeled combo box for numbers
Labeled_values=10; // [10:L, 20:M, 30:XL]

//labeled combo box for string
Labeled_value="S"; // [S:Small, M:Medium, L:Large]

/*[ Slider ]*/
// slider widget for number
slider =34; // [10:100]

//step slider for number
stepSlider=2; //[0:5:100]

/* [Checkbox] */

//description
Variable = true;

/*[Spinbox] */

// spinbox with step size 1
Spinbox = 5; 

/* [Textbox] */

//Text box for vector with more than 4 elements
Vector6=[12,34,44,43,23,23];

// Text box for string
String="hello";

/* [Special vector] */
//Text box for vector with less than or equal to 4 elements
Vector1=[12]; //[0:2:50]
Vector2=[12,34]; //[0:2:50]
Vector3=[12,34,46]; //[0:2:50]
Vector4=[12,34,46,24]; //[0:2:50]
</pre>
<h3>Saving Parameters value in JSON file</h3>
<p>This feature gives the user the ability to save the values of all parameters. JSON parameter values can be then reused through the command line.
</p>
<h4>Cmdline</h4>
<pre>openscad --enable=customizer -o model-2.stl -p parameters.json -P model-2 model.scad
</pre>
<pre>openscad --enable=customizer -o &lt;output-file&gt; -p &lt;parameteric-file (JSON File) &gt; -P &lt;NameOfSet&gt; &lt;input-file SCAD file &gt;
</pre>
<ul style="list-style-image:none"><li>-p is used to give input JSON file in which parameters are saved.</li>
<li>-P is used to give the name of the set of the parameters written in JSON file.</li></ul><p>
And JSON file is written in the following format:</p><pre>{
    "parameterSets":
    {
        "FirstSet": {
            "Labeled_values": "13",
            "Numbers": "18",
            "Spinbox": "35",
            "Vector": "[2, 34, 45, 12, 23, 56]",
            "slider": "2",
            "stepSlider": "12",
            "string": "he"
        },
        "SecondSet": {
            "Labeled_values": "10",
            "Numbers": "8",
            "Spinbox": "5",
            "Vector": "[12, 34, 45, 12, 23, 56]",
            "slider": "12",
            "stepSlider": "2",
            "string": "hello"
        }
    },
    "fileFormatVersion": "1"
}
</pre><pre>{
    "parameterSets":{
              "set-name ":{
                         "parameter-name " :"value ",
                         "parameter-name " :"value "
                        },
             "set-name ":{
                         "parameter-name " :"value ",
                         "parameter-name " :"value "
                        },
    },
    "fileFormatVersion": "1"
}
</pre>
<h4>GUI</h4>
<p>Through GUI you can easily apply and save Parameter in JSON file using Present section in Customizer explained below. 
</p><p>In customizer, the first line of options is as follows:
</p>
<ol><li><b>Automatic Preview:</b> If checked, the preview of the model is automatically updated when you change any parameter in Customizer, else you must click the preview button or press F5 after you update parameters in the Customizer.</li>
<li><b>Show Details:</b>
<ol><li><b>Show Details:</b> If chosen, the description for the parameter appears below the parameter name.</li>
<li><b>Inline Details:</b> If chosen, the description for the parameter appears next to the parameter name. Long descriptions get clipped. This option is a compromise between vertical space usage and retaining part of the description.</li>
<li><b>Hide Details:</b> Details are suppressed although you still can view the description by hovering the cursor over the input widget.</li></ol></li>
<li><b>Reset</b> button: When clicked, it resets the values of all input widgets for the parameter to the defaults provided in SCAD file.</li></ol>
<p>Next comes Preset section: It consist of four buttons:
</p>
<dl><dt>combo Box</dt>
<dd>It is used to select the set of parameters to be used</dd>
<dt>+ button</dt>
<dd>add new set of the parameters</dd>
<dt>– button</dt>
<dd>It is used to delete the set selected in combo Box.</dd>
<dt>save preset button</dt>
<dd>save/overwrite the current preset</dd></dl>
<p>and finally below Preset Section is the Place where you can play with the parameters.
</p><p>You can also refer to  two examples that are Part of OpenSCAD to learn more:
</p>
<ol><li>Parametric/sign.scad</li>
<li>Parametric/candlStand.scad</li></ol>
<h4>manually create datasets</h4>
<p>You can manually create a dataset by modifying the JSON file according above format and defining your own variables.
When a dataset is loaded, <b>only</b> the parameters defined in the dataset are modified, other parameters are <b>not</b> set to defaults. This allow one to create partial datasets consisting of modifiers, not complete dataset.
</p>
<h4>hidden parameters</h4>
<p>Variables belonging to the hidden group are stored in the JSON file, but are <b>not</b> retrieved from the JSON file.
</p><p>Meaning: If a variable is moved from the hidden group to an other group, it also becomes applicable. This allows a designer to use the hidden group for reserved variables, that become customizable (and assigned with a different default) in a future version, without breaking existing preset.
</p><p>A hidden variable can also be used as a "last saved with" indicator, that can be read by manually viewing the JSON file.
</p><p>The idea is, that the customizer only modifies variables that the user can see and control from the customizer UI.
</p>
<h3>Tips and Tricks</h3>
<h4>Set Range and Stepping</h4>
<p>The customizer tries to guess an appropriate range and stepping, but may give inconsistent results depending on your design intent. For example, the customizer also treats numbers like 0.0, 1.0, 2.0 etc. as integers. The customizer also does not know whether negative numbers make sense. It is therefore recommended to supply range and step as comments. Keep in mind, that if in doubt, the user can always modify the SCAD file.
</p><p>Do not hesitate to limit the range. For instance, in the design of a smart phone holder, limit the size to reasonable smart phone sizes. If someone wants to use your smart phone holder as a tablet holder, he always can directly edit the SCAD file itself. This act also makes the user aware, that the design was not meant as a tablet holder and that he or she might need for example to modify the support structure
</p>
<h4>Scroll Wheel</h4>
<p>The buttons on the spinboxes are small, but you can use the scroll wheel on your mouse to change the value comfortably.
First, click on the spin box to focus the spin box.
</p>
<h3>Examples</h3>
<h4>color =</h4>
<pre>cubeColor = [1,0.5,0]; //[0:0.1:1]
sphereColor = "blue"; // [red, green, blue]

echo(cubeColor);

color(cubeColor)
cube();

color(sphereColor)
sphere();
</pre>




</div><footer class="mw-body" style="font-size:13px;color:darkgray;text-align:center;margin-bottom:-1px">
	From the WikiBooks article <a href="https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/Customizer" style="color:black">Customizer</a> 
	(provided under <a href="https://creativecommons.org/licenses/by-sa/3.0/" style="color:black">
	CC-BY-SA-3.0</a>)</footer></body></html>